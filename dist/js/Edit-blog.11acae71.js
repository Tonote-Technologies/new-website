"use strict";(self["webpackChunkToNote"]=self["webpackChunkToNote"]||[]).push([[537],{5729:function(e,l,a){a.r(l),a.d(l,{default:function(){return te}});a(7658);var t=a(3396),o=a(2268),s=a(9242),n=a(4870),i=a(678),u=a(9238),r=a(7085),c=a(6035),d=a(6797),v=a.n(d);const p=e=>((0,t.dD)("data-v-4a1dce49"),e=e(),(0,t.Cn)(),e),m={class:"container"},_={class:"layout-specing"},g={class:"card p-4"},f=p((()=>(0,t._)("div",{class:"d-md-flex justify-content-between"},[(0,t._)("div",null,[(0,t._)("h5",{class:"mb-0"},"Edit Blog")]),(0,t._)("div",{class:"my-4 mt-sm-0"})],-1))),b={class:"row"},y={key:0,class:"danger"},h={class:"col-md-8 my-5"},w=["onSubmit"],D={class:"form-group"},x=p((()=>(0,t._)("label",null,"Post Title ",-1))),H={class:"form-group my-2"},M=p((()=>(0,t._)("label",{class:"form-label"},"Blog Category",-1))),P=p((()=>(0,t._)("option",{value:""},"Select Category",-1))),z=p((()=>(0,t._)("option",{value:"e-signing"},"E-signing",-1))),U=p((()=>(0,t._)("option",{value:"buisness"},"Buisness",-1))),k=[P,z,U],C={class:"form-group"},F=p((()=>(0,t._)("label",null," Featured Image - This image will be displayed on your blog post! ",-1))),E={class:"form-group"},S=["src","alt"],T=p((()=>(0,t._)("p",null,"MAX FILE SIZE: 2MB",-1))),B={class:"text-danger"},I=p((()=>(0,t._)("input",{type:"file",id:"dropzoneFile",class:"dropzoneFile",accept:"image/png, image/jpg, image/jpeg"},null,-1))),q={key:1,class:"d-flex justify-content-center align-items-center my-2"},G={class:"grid grid__1 w-100",style:{height:"200px"}},J={class:"position-relative"},V=["src"],Z={class:"position-absolute top-0 start-100 translate-middle"},N={class:"form-group my-2"},R=p((()=>(0,t._)("label",null,"Excerpt - optional",-1))),Y={class:"form-group my-2"},j=p((()=>(0,t._)("label",null,"Post content ",-1))),O={class:"form-group my-2"},W=p((()=>(0,t._)("label",{class:"label-control",for:"status"},"Status",-1))),A=p((()=>(0,t._)("option",{value:""},"Select Status",-1))),L=p((()=>(0,t._)("option",{value:"draft"},"Draft",-1))),X=p((()=>(0,t._)("option",{value:"live"},"Live",-1))),$=[A,L,X],Q={class:"form-group my-2"},K=p((()=>(0,t._)("div",{class:""},[(0,t._)("button",{class:"btn btn-md btn-primary"},"Update")],-1)));var ee={__name:"BlogEdit",setup(e){const l=(0,n.iH)(!1),a=(0,n.iH)(""),d=(0,n.iH)(null),p=(0,n.iH)(""),P=(0,n.iH)(!1),z=e=>{let l=new FileReader;l.onloadend=()=>{d.value=l.result},l.readAsDataURL(e),P.value=!0},U=e=>{l.value=!0;let t=a.value=e.dataTransfer.files[0];const o=t.size,s=o/1048576;s>=2&&(l.value=!1,p.value="Please select a file less than 2MB.",setTimeout((()=>{P.value=!1}),100)),z(t)},A=()=>{l.value=!0;let e=a.value=document.querySelector(".dropzoneFile").files[0];const t=e.size,o=t/1048576;o>=2&&(l.value=!1,p.value="Please select a file less than 2MB.",setTimeout((()=>{P.value=!1}),100)),z(e)},L=()=>v()().format("YYYY-MM-DD, HH:mm A"),X=(0,i.tv)(),ee=(0,n.iH)(""),le=(0,n.iH)(""),ae=(0,n.iH)(""),te=(0,n.iH)(""),oe=(0,n.iH)(""),se=(0,n.iH)(""),ne=(0,n.iH)(""),ie=(0,n.iH)(L()),ue=(0,n.iH)(!1),re=(0,n.iH)(""),ce=async e=>{const l=await(0,c.QT)(e);if(l.exists()){const e=l.data();le.value=e.title,ae.value=e.category,te.value=e.excerpt,oe.value=e.content,se.value=e.status,d.value=ne.value=e.file,ie.value=L()}else console.log("No such document!")},de=()=>{if(""!=le.value&&""!=ae.value&&""!=te.value&&""!=oe.value&&""!=se.value){ue.value=!1,re.value="";const e=(0,c.JU)(r.db,"blogPost",ee.value),l={title:le.value,category:ae.value,excerpt:te.value,content:oe.value,status:se.value,file:d.value};(0,c.r7)(e,l),X.push({name:"admin.dashboard"})}ue.value=!0,re.value="Please fill out all the fields!",console.log(ue.value),console.log(re.value)};return(0,t.bv)((()=>{ee.value=X.currentRoute.value.params.blog_id;const e=(0,c.JU)(r.db,"blogPost",ee.value);ce(e)})),(e,a)=>((0,t.wg)(),(0,t.iD)("div",m,[(0,t._)("div",_,[(0,t._)("section",g,[f,(0,t._)("div",b,[!0===ue.value?((0,t.wg)(),(0,t.iD)("div",y,(0,o.zw)(re.value),1)):(0,t.kq)("",!0),(0,t._)("div",h,[(0,t._)("form",{onSubmit:(0,s.iM)(de,["prevent"]),role:"form"},[(0,t._)("div",D,[x,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",name:"title","onUpdate:modelValue":a[0]||(a[0]=e=>le.value=e),placeholder:"Enter the title of the blog",required:""},null,512),[[s.nr,le.value]])]),(0,t._)("div",H,[M,(0,t.wy)((0,t._)("select",{class:"form-control","onUpdate:modelValue":a[1]||(a[1]=e=>ae.value=e),required:""},k,512),[[s.bM,ae.value]])]),(0,t._)("div",C,[F,(0,t._)("div",E,[(0,t._)("div",null,[(0,t._)("img",{src:ne.value,width:"150",alt:le.value},null,8,S)]),l.value?((0,t.wg)(),(0,t.iD)("div",q,[(0,t._)("div",G,[(0,t._)("div",J,[(0,t._)("img",{src:d.value,class:"img-fluid",width:"120",alt:"preview"},null,8,V),(0,t._)("div",Z,[(0,t.wy)((0,t._)("button",{class:"btn-close bg-danger rounded-circle",onClick:a[2]||(a[2]=e=>l.value=!l.value),style:{padding:"10px"}},null,512),[[s.F8,l.value]])])])])])):((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[T,(0,t._)("p",B,(0,o.zw)(p.value),1),(0,t.Wm)(u.Z,{onDrop:(0,s.iM)(U,["prevent"]),onChange:A},{format:(0,t.w5)((()=>[(0,t.Uk)(" PNG, JPEG OR JPG ")])),input:(0,t.w5)((()=>[I])),_:1},8,["onDrop"])],64))])]),(0,t._)("div",N,[R,(0,t.wy)((0,t._)("textarea",{required:"",class:"form-control excerpt",name:"excerpt","onUpdate:modelValue":a[3]||(a[3]=e=>te.value=e),placeholder:"Write an excerpt",style:{height:"120px"}},null,512),[[s.nr,te.value]])]),(0,t._)("div",Y,[j,(0,t.wy)((0,t._)("textarea",{required:"",class:"form-control bcontent",name:"content","onUpdate:modelValue":a[4]||(a[4]=e=>oe.value=e),style:{height:"120px"},placeholder:"Compose content for the blog post. Users will see everything on this post once it is published."},null,512),[[s.nr,oe.value]])]),(0,t._)("div",O,[W,(0,t._)("div",null,[(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>se.value=e),name:"status",type:"checkbox",class:"form-control"},$,512),[[s.bM,se.value]])])]),(0,t._)("div",Q,[(0,t.wy)((0,t._)("input",{type:"hidden",name:"created_at","onUpdate:modelValue":a[6]||(a[6]=l=>e.created_at=l)},null,512),[[s.nr,e.created_at]])]),K],40,w)])])])])]))}},le=a(89);const ae=(0,le.Z)(ee,[["__scopeId","data-v-4a1dce49"]]);var te=ae},9238:function(e,l,a){a.d(l,{Z:function(){return h}});var t=a(3396),o=a(9242),s=a(2268),n=a(4870);const i=e=>((0,t.dD)("data-v-497fdd98"),e=e(),(0,t.Cn)(),e),u={class:"w-100"},r=["onDragenter","onDragleave","onDrop"],c={for:"dropzoneFile",class:"custom-upload",role:"button"},d={class:"text-center"},v=i((()=>(0,t._)("h4",null,"Drag and drop to upload",-1))),p=i((()=>(0,t._)("h4",null,"OR",-1))),m=i((()=>(0,t._)("h4",{class:"btn btn-primary"},"Select File",-1))),_={class:"text-muted mt-1",style:{"font-size":"12px"}},g=i((()=>(0,t._)("input",{type:"file",id:"dropzoneFile",multiple:"",class:"dropzoneFile"},null,-1)));var f={__name:"DropZone",setup(e){const l=(0,n.iH)(!1),a=()=>{l.value=!l.value};return(e,n)=>((0,t.wg)(),(0,t.iD)("div",u,[(0,t._)("div",{onDragenter:(0,o.iM)(a,["prevent"]),onDragleave:(0,o.iM)(a,["prevent"]),onDragover:n[0]||(n[0]=(0,o.iM)((()=>{}),["prevent"])),onDrop:(0,o.iM)(a,["prevent"]),class:(0,s.C_)([{"active-dropzone":l.value},"dropzone"])},[(0,t._)("label",c,[(0,t._)("div",d,[v,p,m,(0,t._)("div",_,[(0,t.WI)(e.$slots,"format",{},(()=>[(0,t.Uk)("PDF, DOC, DOCX, PNG, JPG or JPEG only")]))]),(0,t.WI)(e.$slots,"input",{},(()=>[g]))])])],42,r)]))}},b=a(89);const y=(0,b.Z)(f,[["__scopeId","data-v-497fdd98"]]);var h=y}}]);
//# sourceMappingURL=Edit-blog.11acae71.js.map